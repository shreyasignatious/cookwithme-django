{% extends 'base.html' %}

{% block title %}All Recipes - CookWithMe{% endblock %}

{% block content %}
<div class="card">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
        <h1><i class="fas fa-book"></i> My Recipes</h1>
        <a href="{% url 'home' %}" class="btn btn-primary">
            <i class="fas fa-plus"></i> Add New Recipe
        </a>
    </div>
    
    {% if datas %}
        <div class="recipe-grid">
            {% for data in datas %}
            <div class="recipe-card">
                {% if data.image %}
                    <img src="{{ data.image.url }}" alt="{{ data.reciepe_name }}" class="recipe-image">
                {% else %}
                    <div style="background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); height: 200px; display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-utensils" style="font-size: 3rem; color: #7f8c8d;"></i>
                    </div>
                {% endif %}
                
                <div class="recipe-content">
                    <h3 class="recipe-title">{{ data.reciepe_name }}</h3>
                    
                    <div class="recipe-rating">
                        <div class="stars">
                            {% for i in "12345" %}
                                <span class="star {% if forloop.counter <= data.rating %}filled{% endif %}">
                                    <i class="fas fa-star"></i>
                                </span>
                            {% endfor %}
                        </div>
                        <span>({{ data.rating }}/5)</span>
                    </div>
                    
                    <p class="recipe-description">{{ data.reciepe_description|truncatewords:20 }}</p>
                    
                    <div class="recipe-actions">
                        <a href="{% url 'view_one' data.reciepe_id %}" class="btn btn-primary" style="padding: 0.5rem 1rem; font-size: 0.9rem;">
                            <i class="fas fa-eye"></i> View Details
                        </a>
                        <a href="{% url 'update_rec' data.reciepe_id %}" class="btn btn-outline" style="padding: 0.5rem 1rem; font-size: 0.9rem;">
                            <i class="fas fa-edit"></i> Edit
                        </a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="empty-state">
            <i class="fas fa-utensils"></i>
            <h2>No Recipes Yet</h2>
            <p style="color: #666; margin-bottom: 2rem;">Start your culinary journey by adding your first recipe!</p>
            <a href="{% url 'home' %}" class="btn btn-primary">
                <i class="fas fa-plus"></i> Create Your First Recipe
            </a>
        </div>
    {% endif %}
</div>
{% endblock %}